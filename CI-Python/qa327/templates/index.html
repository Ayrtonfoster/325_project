{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}Profile{% endblock %}</h1>
{% endblock %}

{% block content %}
<h2 id="welcome-header">Welcome {{ user.name }}</h2>

<h4 id="account-balance">Your balance is: {{ user.balance }} !</h4>


<h2 >Here is where you can purchase tickets</h2>

<hr>
<h2 >Here is where you can sell tickets</h2>

<h4 id='sell_message'>{{sell_message}}</h4>
<form method="post" action="/sell">
    <div class="form-group">
      <label for="ticket_name">Ticket Name</label>
      <input class="form-control" name="ticket_name" id="ticket_name" required>
      <label for="num_tickets">Number of Tickets</label>
      <input class="form-control" name="num_tickets" id="num_tickets" type="number" required>
      <label for="ticket_price">Ticket Price $</label>
      <input class="form-control" name="ticket_price" id="ticket_price" type="number" required>
      <label for="ticket_date">Ticket Date</label>
      <br>
      <input type="date" name="ticket_date" id="ticket_date" required>
      <br>
      <input class="btn btn-lg btn-primary" type="submit" id="btn-submit" value="Post Tickets">
      <br>
    </div>
</form>


<h2 >Buy tickets here</h2>
<h4 id='buy_message'>{{buy_message}}</h4>
<form method="post" action="/buy">
    <div class="form-group">
      <label for="ticket_name">Ticket Name</label>
      <input class="form-control" name="ticket_name" id="ticket_name" required>
      <label for="num_tickets">Number of Tickets</label>
      <input class="form-control" name="num_tickets" id="num_tickets" type="number" required>
      <input class="btn btn-lg btn-primary" type="submit" id="btn-submit" value="Buy Tickets">
      <br>
    </div>
</form>

<h2 >Update tickets here</h2>
<h4 id='update_message'>{{update_message}}</h4>
<form method="post" action="/update">
    <div class="form-group">
      <label for="ticket_name">Ticket Name</label>
      <input class="form-control" name="ticket_name" id="ticket_name" required>
      <label for="num_tickets">New Number of Tickets</label>
      <input class="form-control" name="num_tickets" id="num_tickets" type="number" required>
      <label for="ticket_price">New Ticket Price $</label>
      <input class="form-control" name="ticket_price" id="ticket_price" type="number" required>
      <label for="ticket_date">New Ticket Date</label>
      <br>
      <input type="date" name="ticket_date" id="ticket_date" required>
      <br>
      <input class="btn btn-lg btn-primary" type="submit" id="btn-submit" value="Update Tickets">
      <br>
    </div>
</form>


<h4>Tickets for sale</h4>

<div id="tickets">
<table style="width:100%">
    <tr>
      <th>Concert Name</th>
      <th>Price $</th>
      <th>Available Tickets</th>
      <th>Date</th>
      <th>Owner</th>
    </tr>
{% for ticket in tickets %}
    <tr>
        <td>{{ ticket.ticket_name }}</td>
        <td>{{ ticket.ticket_price }}</td>
        <td>{{ ticket.num_tickets }}</td>
        <td>{{ ticket.ticket_date }}</td>
        <td>{{ ticket.ticket_owner }}</td>
    </tr>
{% endfor %}

</div>
</table>

<br>
<br>
<a href='/logout'>logout</a>
{% endblock %}